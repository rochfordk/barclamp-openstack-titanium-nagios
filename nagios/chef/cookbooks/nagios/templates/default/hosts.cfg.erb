# Generated by Chef
# host definitions

<% @hosts.each do |ip, n| -%>
define host {
  use server
  address <%= ip %>
  host_name <%= n["hostname"] %>
<% if n.roles.nil? -%>
  hostgroups all
  <% elsif n.roles.include?('haproxy') ||  n.roles.include?('slave') -%>
  hostgroups TitaniumControllers
  <% else -%>
  hostgroups <%= n["platform"] %>,<%= n.roles.to_a.join(",") %>
<% end -%>
}

<% end -%>
