# Generated by Chef
# host definitions

<% @hosts.each do |ip, n| -%>
define host {
  use server
  address <%= ip %>
  host_name <%= n["hostname"] %>
<% if n.roles.nil? -%>
  hostgroups all
<% else if n.roles.to_a.include?('haproxy') -%>
  hostgroups TitaniumControllers
<% else -%>
  hostgroups <%= n["platform"] %>,<%= n.roles.to_a.join(",") %>
<% end -%>
}

<% end -%>
